/* globals.css */

@layer utilities {
  /* Gradiente radial para vignette */
  .bg-gradient-radial {
    background-image: radial-gradient(var(--tw-gradient-stops));
  }

  /* Efecto CRT mejorado - sin afectar layout */
  .crt-effect {
    animation: flicker 0.15s infinite;
    position: relative;
  }

  .crt-effect::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    background: repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.15),
      rgba(0, 0, 0, 0.15) 1px,
      transparent 1px,
      transparent 2px
    );
    z-index: 999;
  }

  @keyframes flicker {
    0% {
      opacity: 0.97;
    }
    50% {
      opacity: 1;
    }
    100% {
      opacity: 0.97;
    }
  }

  /* Text glow effect mejorado */
  .text-glow-green {
    text-shadow: 
      0 0 5px rgba(0, 255, 0, 0.8),
      0 0 10px rgba(0, 255, 0, 0.5),
      0 0 15px rgba(0, 255, 0, 0.3),
      0 0 20px rgba(0, 255, 0, 0.2);
  }

  .text-glow-cyan {
    text-shadow: 
      0 0 5px rgba(0, 255, 255, 0.8),
      0 0 10px rgba(0, 255, 255, 0.5),
      0 0 15px rgba(0, 255, 255, 0.3);
  }

  .text-glow-yellow {
    text-shadow: 
      0 0 5px rgba(255, 255, 0, 0.8),
      0 0 10px rgba(255, 255, 0, 0.5),
      0 0 15px rgba(255, 255, 0, 0.3);
  }

  /* Scanline animation - completamente fixed */
  .scanline {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    pointer-events: none;
  }

  .scanline::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to bottom,
      transparent 50%,
      rgba(0, 255, 0, 0.03) 50%
    );
    background-size: 100% 4px;
    animation: scan 8s linear infinite;
    pointer-events: none;
    will-change: transform;
  }

  @keyframes scan {
    0% {
      transform: translateY(-100%);
    }
    100% {
      transform: translateY(100%);
    }
  }

  /* Efecto de parpadeo de cursor terminal */
  .terminal-cursor {
    animation: cursor-blink 1s step-end infinite;
  }

  @keyframes cursor-blink {
    0%, 50% {
      opacity: 1;
    }
    51%, 100% {
      opacity: 0;
    }
  }

  /* Efecto glitch de texto */
  .glitch-text {
    position: relative;
  }

  .glitch-text::before,
  .glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .glitch-text::before {
    left: 2px;
    text-shadow: -2px 0 #ff00ff;
    clip: rect(24px, 550px, 90px, 0);
    animation: glitch-anim 3s infinite linear alternate-reverse;
  }

  .glitch-text::after {
    left: -2px;
    text-shadow: -2px 0 #00ffff;
    clip: rect(85px, 550px, 140px, 0);
    animation: glitch-anim 2s infinite linear alternate-reverse;
  }

  @keyframes glitch-anim {
    0% {
      clip: rect(61px, 9999px, 85px, 0);
    }
    20% {
      clip: rect(26px, 9999px, 28px, 0);
    }
    40% {
      clip: rect(78px, 9999px, 43px, 0);
    }
    60% {
      clip: rect(15px, 9999px, 95px, 0);
    }
    80% {
      clip: rect(52px, 9999px, 68px, 0);
    }
    100% {
      clip: rect(34px, 9999px, 71px, 0);
    }
  }

  /* Efecto de distorsión RGB */
  .rgb-shift {
    animation: rgb-shift 0.3s ease-in-out;
  }

  @keyframes rgb-shift {
    0%, 100% {
      text-shadow: 0 0 1px rgba(0, 255, 0, 0.5);
    }
    25% {
      text-shadow: 
        -2px 0 #ff00ff,
        2px 0 #00ffff;
    }
    50% {
      text-shadow: 
        2px 0 #ff00ff,
        -2px 0 #00ffff;
    }
    75% {
      text-shadow: 
        -1px 0 #ff00ff,
        1px 0 #00ffff;
    }
  }

  /* Efecto de fade in desde arriba */
  .fade-in-down {
    animation: fade-in-down 0.5s ease-out;
  }

  @keyframes fade-in-down {
    0% {
      opacity: 0;
      transform: translateY(-10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Efecto de pulso para elementos activos */
  .pulse-green {
    animation: pulse-green 2s ease-in-out infinite;
  }

  @keyframes pulse-green {
    0%, 100% {
      box-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
    }
    50% {
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
    }
  }

  /* Efecto de escritura */
  .typing-effect {
    overflow: hidden;
    border-right: 2px solid rgba(0, 255, 0, 0.75);
    white-space: nowrap;
    animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
  }

  @keyframes typing {
    from {
      width: 0;
    }
    to {
      width: 100%;
    }
  }

  @keyframes blink-caret {
    from, to {
      border-color: transparent;
    }
    50% {
      border-color: rgba(0, 255, 0, 0.75);
    }
  }

  /* Noise texture overlay */
  .noise-texture {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    opacity: 0.03;
    z-index: 1000;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    animation: noise 1s steps(10) infinite;
  }

  @keyframes noise {
    0%, 100% { transform: translate(0, 0); }
    10% { transform: translate(-5%, -5%); }
    20% { transform: translate(-10%, 5%); }
    30% { transform: translate(5%, -10%); }
    40% { transform: translate(-5%, 15%); }
    50% { transform: translate(-10%, 5%); }
    60% { transform: translate(15%, 0); }
    70% { transform: translate(0, 10%); }
    80% { transform: translate(-15%, 0); }
    90% { transform: translate(10%, 5%); }
  }

  /* Efecto de brillo en los bordes (matriz) */
  .matrix-glow {
    box-shadow: 
      0 0 10px rgba(0, 255, 0, 0.3),
      0 0 20px rgba(0, 255, 0, 0.2),
      inset 0 0 10px rgba(0, 255, 0, 0.1);
  }

  /* Líneas horizontales tipo monitor CRT */
  .crt-lines {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 998;
    background: repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.1) 0px,
      transparent 1px,
      transparent 2px,
      rgba(0, 0, 0, 0.1) 3px
    );
  }
}

/* Clase para prevenir shift de layout */
.no-layout-shift {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  contain: layout style paint;
}