/* --- CONTENEDOR DE GRUPO --- */
.streamGroup {
  pointer-events: none;
  /* Animación de respiración global más sutil */
  animation: breathe 10s ease-in-out infinite;
  mix-blend-mode: screen; /* Mejora la fusión de colores con el fondo oscuro */
}

/* --- CONDUCTO BASE (LA FIBRA) --- */
.conduit {
  stroke-linecap: round;
  opacity: 0.2;
  transition: stroke-width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* --- FLUJO PRIMARIO (EL RUIDO DE FONDO) --- */
.primaryFlux {
  opacity: 0.4;
  stroke-linecap: round;
  /* Filtro de suavizado para que no se vea pixelado al moverse rápido */
  filter: blur(0.5px);
}

/* --- IMPULSOS DE DATOS (PAQUETES) --- */
.dataBit {
  opacity: 0.9;
  stroke-linecap: round;
  /* El resplandor se define en el SVG pero aquí reforzamos la intensidad */
  filter: drop-shadow(0 0 2px currentColor);
}

/* --- CLASES DINÁMICAS (Cuando el nodo está seleccionado) --- */
.selectedStream {
  opacity: 1 !important;
}

.selectedStream .conduit {
  opacity: 0.5;
  filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));
}

.selectedStream .dataBit {
  stroke-width: 3px;
  filter: drop-shadow(0 0 8px currentColor);
}

/* --- ANIMACIONES --- */
@keyframes breathe {
  0%, 100% { 
    opacity: 0.7; 
    filter: brightness(1);
  }
  50% { 
    opacity: 1; 
    filter: brightness(1.3);
  }
}

/* Efecto de parpadeo aleatorio para simular 'ruido' en la señal */
@keyframes signalFlicker {
  0%, 100% { opacity: 1; }
  92% { opacity: 1; }
  93% { opacity: 0.8; }
  94% { opacity: 1; }
  95% { opacity: 0.9; }
  96% { opacity: 1; }
}

.streamGroup:active {
  animation: signalFlicker 0.2s infinite;
}